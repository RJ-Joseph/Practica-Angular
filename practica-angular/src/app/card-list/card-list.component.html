<!-- src/app/components/card-list/card-list.component.html -->
<div class="container my-4">
  <div class="row g-4">
    <div class="col-sm-6 col-lg-4" *ngFor="let item of items">
      <div class="card h-100 character-card">
        <div class="card-img-wrapper">
          <!-- Loader -->
          <div *ngIf="isLoading(item.image)" class="loader-container">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" width="200" height="200" style="shape-rendering: auto; display: block; background: rgb(255, 255, 255);" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path stroke="none" fill="#e15b64" d="M10 50A40 40 0 0 0 90 50A40 42 0 0 1 10 50">
              <animateTransform values="0 50 51;360 50 51" keyTimes="0;1" repeatCount="indefinite" dur="1s" type="rotate" attributeName="transform"></animateTransform>
            </path><g></g></g></svg>
          </div>
          <!-- Imagen -->
          <div class="img-container">
            <img [src]="item.image"
                 [alt]="item.name"
                 class="card-img"
                 (error)="onImageError($event, item.image)"
                 (load)="onImageLoad(item.image)">
          </div>
          
        </div>
        
        <div class="card-body d-flex flex-column">
          <h5 class="card-title text-center mb-3">{{item.name}}</h5>
          <p class="card-text flex-grow-1">{{truncateText(item.description)}}</p>
          <div class="card-footer bg-transparent border-0 pt-3">
            <div class="d-flex justify-content-between align-items-center">
              <span class="power-level">
                <i class="fas fa-bolt text-warning"></i> {{item.ki}}
              </span>
              <button class="btn btn-primary rounded-pill" (click)="onCardClick(item)">
                +Info <i class="fas fa-chevron-right ms-1"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>